var Z=Object.defineProperty;var O=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var V=(c,p,t)=>p in c?Z(c,p,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[p]=t,U=(c,p)=>{for(var t in p||(p={}))ee.call(p,t)&&V(c,t,p[t]);if(O)for(var t of O(p))le.call(p,t)&&V(c,t,p[t]);return c};import{g as te,u as ae,c as ne,a as oe,d as ue}from"./company.adc6f989.js";import{u as se,E as de,D as pe,P as re,M as ie}from"./userPagination.8b349a3f.js";import{d as N,r as f,o as x,I as z,w as l,s as e,y as R,A as $,B as q,C as P,T as S,_ as T,E as me,l as ve,G as _e,i as M,N as k,J as ce,z as v,k as _,j as B,K as ge,L as fe,M as ye,O as I,S as he,U as Ce,V as A,W as be}from"./index.b77916f9.js";const we=N({__name:"EditCompany",props:{id:{type:Number}},emits:["updated"],setup(c,{emit:p}){const t=c,o=f({}),y=f(null);te(t.id).then(n=>{o.value=n});const h=f({name:{required:!0,message:"Please Enter Name",trigger:"blur"}}),C=n=>{var a;n.preventDefault(),(a=y.value)==null||a.validate(u=>{u?(console.log(u),window.$message.error("Invalid")):ae(o.value.id,U({},o.value)).then(m=>{window.$message.success(m.message),p("updated",m)})})};return(n,a)=>{const u=$,m=q,w=P,b=S,s=T;return x(),z(s,{ref_key:"formRef",ref:y,"label-width":80,model:o.value,rules:h.value,size:"small"},{default:l(()=>[e(m,{style:{"padding-top":"24px"},label:"Name",path:"company_name"},{default:l(()=>[e(u,{value:o.value.company_name,"onUpdate:value":a[0]||(a[0]=i=>o.value.company_name=i),placeholder:"Enter Name"},null,8,["value"])]),_:1}),e(m,{style:{"padding-top":"4px"},label:"Phone",path:"phone"},{default:l(()=>[e(u,{value:o.value.phone,"onUpdate:value":a[1]||(a[1]=i=>o.value.phone=i),placeholder:"Enter Phone"},null,8,["value"])]),_:1}),e(m,{style:{"padding-top":"4px"},label:"Address",path:"address"},{default:l(()=>[e(u,{value:o.value.address,"onUpdate:value":a[2]||(a[2]=i=>o.value.address=i),placeholder:"Enter Address"},null,8,["value"])]),_:1}),e(m,{style:{"padding-top":"4px"},label:"City",path:"city"},{default:l(()=>[e(u,{value:o.value.city,"onUpdate:value":a[3]||(a[3]=i=>o.value.city=i),placeholder:"Enter City"},null,8,["value"])]),_:1}),e(m,{style:{"padding-top":"4px"},label:"State",path:"state"},{default:l(()=>[e(u,{value:o.value.state,"onUpdate:value":a[4]||(a[4]=i=>o.value.state=i),placeholder:"Enter State"},null,8,["value"])]),_:1}),e(m,{style:{"padding-top":"4px"},label:"Country",path:"country"},{default:l(()=>[e(u,{value:o.value.country,"onUpdate:value":a[5]||(a[5]=i=>o.value.country=i),placeholder:"Enter Country"},null,8,["value"])]),_:1}),e(m,{style:{"padding-top":"4px"},label:"Logo",path:"logo"},{default:l(()=>[e(u,{value:o.value.logo,"onUpdate:value":a[6]||(a[6]=i=>o.value.logo=i),placeholder:"Enter Logo"},null,8,["value"])]),_:1}),e(b,{vertical:!0,style:{"align-items":"center"}},{default:l(()=>[e(m,null,{default:l(()=>[e(w,{style:{alignment:"center"},onClick:C},{default:l(()=>[R(" Create")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),xe=N({__name:"AddCompany",emits:["created"],setup(c,{emit:p}){const t=f({}),o=f(null),y=f({company_name:{required:!0,message:"Please Enter Name",trigger:"blur"}}),h=C=>{var n;C.preventDefault(),(n=o.value)==null||n.validate(a=>{a?(console.log(a),window.$message.error("Please fill out required fields")):ne(U({},t.value)).then(u=>{window.$message.success(u.message),p("created",u.result)})})};return(C,n)=>{const a=$,u=q,m=P,w=S,b=T;return x(),z(b,{ref_key:"formRef",ref:o,"label-width":80,model:t.value,rules:y.value,size:"small"},{default:l(()=>[e(u,{style:{"padding-top":"24px"},label:"Name",path:"company_name"},{default:l(()=>[e(a,{value:t.value.company_name,"onUpdate:value":n[0]||(n[0]=s=>t.value.company_name=s),placeholder:"Enter Name"},null,8,["value"])]),_:1}),e(u,{style:{"padding-top":"4px"},label:"Phone",path:"phone"},{default:l(()=>[e(a,{value:t.value.phone,"onUpdate:value":n[1]||(n[1]=s=>t.value.phone=s),placeholder:"Enter Phone"},null,8,["value"])]),_:1}),e(u,{style:{"padding-top":"4px"},label:"Address",path:"address"},{default:l(()=>[e(a,{value:t.value.address,"onUpdate:value":n[2]||(n[2]=s=>t.value.address=s),placeholder:"Enter Address"},null,8,["value"])]),_:1}),e(u,{style:{"padding-top":"4px"},label:"City",path:"city"},{default:l(()=>[e(a,{value:t.value.city,"onUpdate:value":n[3]||(n[3]=s=>t.value.city=s),placeholder:"Enter City"},null,8,["value"])]),_:1}),e(u,{style:{"padding-top":"4px"},label:"State",path:"state"},{default:l(()=>[e(a,{value:t.value.state,"onUpdate:value":n[4]||(n[4]=s=>t.value.state=s),placeholder:"Enter State"},null,8,["value"])]),_:1}),e(u,{style:{"padding-top":"4px"},label:"Country",path:"country"},{default:l(()=>[e(a,{value:t.value.country,"onUpdate:value":n[5]||(n[5]=s=>t.value.country=s),placeholder:"Enter Country"},null,8,["value"])]),_:1}),e(u,{style:{"padding-top":"4px"},label:"Logo",path:"logo"},{default:l(()=>[e(a,{value:t.value.logo,"onUpdate:value":n[6]||(n[6]=s=>t.value.logo=s),placeholder:"Enter Logo"},null,8,["value"])]),_:1}),e(w,{vertical:!0,style:{"align-items":"center"}},{default:l(()=>[e(u,null,{default:l(()=>[e(m,{style:{alignment:"center"},onClick:h},{default:l(()=>[R(" Create")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ee=_("thead",null,[_("tr",null,[_("th",null,"Name"),_("th",null,"Phone"),_("th",null,"Created At"),_("th",null,"Actions")])],-1),Ue=_("div",null,"Create New Company",-1),ke=_("div",null,"Update Company",-1),Se=N({__name:"index",setup(c){const p=me(),t=f(null),o=f(!1),y=f(!1),h=f(),C=ve(),{getList:n,list:a,page:u,pageSizes:m,itemCount:w,pageSize:b,params:s}=se(oe),i=g=>()=>M(k,null,{default:()=>M(g)}),j=f([{label:"Edit",key:"edit",icon:i(de)},{label:"Delete",key:"delete",icon:i(pe)}]);function F(){p.error({title:"Confirmation",content:()=>"Are you sure you want to delete?",positiveText:"Delete",negativeText:"Cancel",onPositiveClick:G})}function G(){const g=window.$loading||null;g.start(),ue(h.value).then(d=>{C.success(d.message),n(),g.finish(),p.destroyAll}).catch(d=>{C.error(d.message),g.finish(),p.destroyAll}),h.value=null,t.value=null}const J=g=>{t.value==="edit"?(y.value=!0,h.value=g.id):t.value==="delete"&&(h.value=g.id,F())},K=g=>{t.value=g},W=()=>{n(s.value)};return _e(()=>{n(s.value)}),(g,d)=>{const H=$,D=P,Q=be,X=he,E=S,L=Ce,Y=ce;return x(),z(Y,null,{default:l(()=>[e(E,{vertical:!0},{default:l(()=>[e(H,{type:"text",size:"small",value:v(s).name,"onUpdate:value":d[0]||(d[0]=r=>v(s).name=r),onChange:W,placeholder:"Search by Name"},null,8,["value"]),e(X,{striped:!0},{default:l(()=>[Ee,_("tbody",null,[(x(!0),B(fe,null,ge(v(a),r=>(x(),B("tr",{key:r.id},[_("td",null,A(r.company_name),1),_("td",null,A(r.phone),1),_("td",null,A(r.created_at),1),_("td",null,[e(Q,{onClick:Ae=>J(r),onSelect:K,trigger:"click",options:j.value},{default:l(()=>[e(D,{size:"small",circle:!0},{default:l(()=>[e(v(k),null,{default:l(()=>[e(v(ie))]),_:1})]),_:1})]),_:2},1032,["onClick","options"])])]))),128))])]),_:1}),e(E,{style:{"align-items":"center","padding-top":"15px"}},{default:l(()=>[e(v(ye),{page:v(u),"onUpdate:page":d[1]||(d[1]=r=>I(u)?u.value=r:null),"page-size":v(b),"onUpdate:page-size":d[2]||(d[2]=r=>I(b)?b.value=r:null),"item-count":v(w),"page-sizes":v(m),size:"small","show-quick-jumper":!0,"show-size-picker":!0},null,8,["page","page-size","item-count","page-sizes"])]),_:1}),e(D,{type:"primary",size:"large",circle:!0,style:{position:"fixed",bottom:"30px",right:"40px"},onClick:d[3]||(d[3]=r=>o.value=!0)},{icon:l(()=>[e(v(k),null,{default:l(()=>[e(v(re))]),_:1})]),_:1}),e(L,{show:o.value,"onUpdate:show":d[5]||(d[5]=r=>o.value=r),preset:"dialog"},{header:l(()=>[Ue]),default:l(()=>[e(E,{vertical:!0},{default:l(()=>[e(xe,{onCreated:d[4]||(d[4]=r=>{v(n)(),o.value=!1})})]),_:1})]),_:1},8,["show"]),e(L,{style:{width:"70%"},show:y.value,"onUpdate:show":d[7]||(d[7]=r=>y.value=r),preset:"dialog"},{header:l(()=>[ke]),default:l(()=>[e(E,{vertical:!0},{default:l(()=>[e(we,{id:h.value,onUpdated:d[6]||(d[6]=r=>{v(n)(),y.value=!1})},null,8,["id"])]),_:1})]),_:1},8,["show"])]),_:1})]),_:1})}}});export{Se as default};
