import{g as d}from"./permission.cabd79a1.js";import{r as i,d as m,D as f,o as c,I as g,Z as h,X as o}from"./index.b77916f9.js";let r=null;function v(e=!1){const l=i(!1),t=i([]),s=(a="")=>{r&&clearTimeout(r),r=setTimeout(()=>{l.value=!0,d({name:a,pageSize:1e3}).then(u=>{t.value=u.data,e&&a&&(t.value.some(n=>n.name===a)||t.value.unshift({id:0,name:a})),l.value=!1}).catch(()=>{l.value=!1})},500)};return s(),{filterPermissions:s,filteredPermissions:t,permissionsLoading:l}}const b=m({props:{modelValue:{type:[String,Array,Object,Number,Boolean]},labelField:{type:String,default:"name"},placeholder:{type:String,default:"Search Permissions"},clearable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},tag:{type:Boolean,default:!1},valueField:{type:String,default:"id"}},emits:["update:modelValue"],setup(e){const{filterPermissions:l,filteredPermissions:t,permissionsLoading:s}=v(e.tag),a=i(null);return{filterPermissions:l,filteredPermissions:t,permissionsLoading:s,selectValue:a}},watch:{modelValue:function(e){this.selectValue=e}},methods:{onChangeValue(e){this.$emit("update:modelValue",e)}}});function P(e,l,t,s,a,u){const n=h;return c(),g(n,{multiple:e.multiple,filterable:!0,tag:e.tag,placeholder:e.placeholder,"on-update:value":e.onChangeValue,value:e.selectValue,"onUpdate:value":l[0]||(l[0]=p=>e.selectValue=p),clearable:e.clearable,remote:!0,"clear-filter-after-select":!1,"label-field":e.labelField,"value-field":e.valueField,loading:e.permissionsLoading,options:e.filteredPermissions,onSearch:e.filterPermissions},null,8,["multiple","tag","placeholder","on-update:value","value","clearable","label-field","value-field","loading","options","onSearch"])}const $=f(b,[["render",P]]);function A(e){return o.request({url:"/roles",method:"get",params:e})}function R(e){return o.request({url:`/roles/${e}`,method:"get"})}function T(e){return o.request({url:"/roles",method:"POST",params:e},{isTransformResponse:!1})}function B(e,l){return o.request({url:`/roles/${e}`,method:"PUT",params:l},{isTransformResponse:!1})}function _(e){return o.request({url:`/roles/${e}`,method:"DELETE"})}export{$ as _,A as a,T as c,_ as d,R as g,B as u};
