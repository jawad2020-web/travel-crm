var R=(e,o,t)=>new Promise((l,i)=>{var n=r=>{try{h(t.next(r))}catch(d){i(d)}},s=r=>{try{h(t.throw(r))}catch(d){i(d)}},h=r=>r.done?l(r.value):Promise.resolve(r.value).then(n,s);h((t=t.apply(e,o)).next())});import{c as M,a as k,b as E,d as y,u as T,e as O,t as j,f as B,g as x,h as U,i as V,o as P,j as S,k as _,r as I,l as q,P as A,m as W,n as H,p as D,q as F,s as a,w as c,_ as G,v as K,x as J,y as N,z as L,R as Q,N as X,A as Y,B as Z,C as ee,D as te}from"./index.b77916f9.js";const oe=M("h",`
 font-size: var(--n-font-size);
 font-weight: var(--n-font-weight);
 margin: var(--n-margin);
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[k("&:first-child",{marginTop:0}),E("prefix-bar",{position:"relative",paddingLeft:"var(--n-prefix-width)"},[E("align-text",{paddingLeft:0},[k("&::before",{left:"calc(-1 * var(--n-prefix-width))"})]),k("&::before",`
 content: "";
 width: var(--n-bar-width);
 border-radius: calc(var(--n-bar-width) / 2);
 transition: background-color .3s var(--n-bezier);
 left: 0;
 top: 0;
 bottom: 0;
 position: absolute;
 `),k("&::before",{backgroundColor:"var(--n-bar-color)"})])]),ne=Object.assign(Object.assign({},O.props),{type:{type:String,default:"default"},prefix:String,alignText:Boolean}),g=e=>y({name:`H${e}`,props:ne,setup(o){const{mergedClsPrefixRef:t,inlineThemeDisabled:l}=T(o),i=O("Typography","-h",oe,j,o,t),n=B(()=>{const{type:h}=o,{common:{cubicBezierEaseInOut:r},self:{headerFontWeight:d,headerTextColor:C,[x("headerPrefixWidth",e)]:b,[x("headerFontSize",e)]:u,[x("headerMargin",e)]:p,[x("headerBarWidth",e)]:f,[x("headerBarColor",h)]:m}}=i.value;return{"--n-bezier":r,"--n-font-size":u,"--n-margin":p,"--n-bar-color":m,"--n-bar-width":f,"--n-font-weight":d,"--n-text-color":C,"--n-prefix-width":b}}),s=l?U(`h${e}`,B(()=>o.type[0]),n,o):void 0;return{mergedClsPrefix:t,cssVars:l?void 0:n,themeClass:s==null?void 0:s.themeClass,onRender:s==null?void 0:s.onRender}},render(){var o;const{prefix:t,alignText:l,mergedClsPrefix:i,cssVars:n,$slots:s}=this;return(o=this.onRender)===null||o===void 0||o.call(this),V(`h${e}`,{class:[`${i}-h`,`${i}-h${e}`,this.themeClass,{[`${i}-h--prefix-bar`]:t,[`${i}-h--align-text`]:l}],style:n},s)}}),se=g("1");g("2");g("3");g("4");g("5");g("6");const re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ae=_("path",{d:"M336 208v-95a80 80 0 0 0-160 0v95",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ie=_("rect",{x:"96",y:"208",width:"320",height:"272",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),le=[ae,ie],ce=y({name:"LockClosedOutline",render:function(o,t){return P(),S("svg",re,le)}}),de={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ue=_("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),_e=_("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),he=[ue,_e],pe=y({name:"PersonOutline",render:function(o,t){return P(),S("svg",de,he)}}),fe=e=>(K("data-v-dd34c57b"),e=e(),J(),e),me={class:"view-account"},ge=fe(()=>_("div",{class:"view-account-header"},null,-1)),we={class:"view-account-container"},ve={class:"view-account-top-logo"},xe={class:"view-account-form"},be=y({__name:"index",setup(e){const o=I(),t=q(),l=I(!1),i=A.BASE_LOGIN_NAME,n=W({email:"iqbal@gmail.com",password:"123456"}),s={email:{required:!0,message:"Please Enter User Name",trigger:"blur"},password:{required:!0,message:"Please Enter Password",trigger:"blur"}},h=H(),r=D(),d=F(),C=b=>{b.preventDefault(),o.value.validate(u=>R(this,null,function*(){var p;if(u)t.error("Please fill in the complete information and verify the verification code");else{const{email:f,password:m}=n;t.loading("logging in..."),l.value=!0;const w={email:f,password:m};try{const{code:$,message:z}=yield h.login(w);if(t.destroyAll(),$==Q.SUCCESS){const v=decodeURIComponent(((p=d.query)==null?void 0:p.redirect)||"/");t.success("Log in successfully, about to enter the system"),d.name===i?r.replace("/"):r.replace(v)}else t.info(z||"Login failed")}finally{l.value=!1}}}))};return(b,u)=>{const p=se,f=X,m=Y,w=Z,$=ee,z=G;return P(),S("div",me,[ge,_("div",we,[_("div",ve,[a(p,null,{default:c(()=>[N("InSync CRM")]),_:1})]),_("div",xe,[a(z,{ref_key:"formRef",ref:o,"label-placement":"left",size:"large",model:n,rules:s},{default:c(()=>[a(w,{path:"email"},{default:c(()=>[a(m,{value:n.email,"onUpdate:value":u[0]||(u[0]=v=>n.email=v),placeholder:"Enter Email"},{prefix:c(()=>[a(f,{size:"18",color:"#808695"},{default:c(()=>[a(L(pe))]),_:1})]),_:1},8,["value"])]),_:1}),a(w,{path:"password"},{default:c(()=>[a(m,{value:n.password,"onUpdate:value":u[1]||(u[1]=v=>n.password=v),type:"password",showPasswordOn:"click",placeholder:"Enter Password"},{prefix:c(()=>[a(f,{size:"18",color:"#808695"},{default:c(()=>[a(L(ce))]),_:1})]),_:1},8,["value"])]),_:1}),a(w,null,{default:c(()=>[a($,{type:"primary",onClick:C,size:"large",loading:l.value,block:""},{default:c(()=>[N(" Login ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])}}});const Ce=te(be,[["__scopeId","data-v-dd34c57b"]]);export{Ce as default};
