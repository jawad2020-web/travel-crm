import{c as A,_ as w,g as E,u as P}from"./role.3304a090.js";import{d as y,r,o as x,I as N,w as a,s as n,y as R,A as h,B as k,C,T as $,_ as V}from"./index.b77916f9.js";const B=y({__name:"AddRole",emits:["created"],setup(b,{emit:c}){const u=r({}),l=r(null),_=r({name:{required:!0,message:"Please Enter Name",trigger:"blur"}}),f=d=>{var t;d.preventDefault(),(t=l.value)==null||t.validate(e=>{if(e)console.log(e),window.$message.error("Please fill out required fields");else{const{name:s,permissions:o}=u.value;A({name:s,permissions:o}).then(i=>{window.$message.success(i.message),c("created",i.result)})}})};return(d,t)=>{const e=h,s=k,o=w,i=C,m=$,v=V;return x(),N(v,{ref_key:"formRef",ref:l,"label-width":80,model:u.value,rules:_.value,size:"small"},{default:a(()=>[n(s,{style:{"padding-top":"24px"},label:"Name",path:"name"},{default:a(()=>[n(e,{value:u.value.name,"onUpdate:value":t[0]||(t[0]=p=>u.value.name=p),placeholder:"Enter Name"},null,8,["value"])]),_:1}),n(s,{style:{"padding-top":"24px"},label:"Permissions",path:"permissions"},{default:a(()=>[n(o,{value:u.value.permissions,"onUpdate:value":t[1]||(t[1]=p=>u.value.permissions=p),"label-field":"name","value-field":"id",tag:!0},null,8,["value"])]),_:1}),n(m,{vertical:!0,style:{"align-items":"center"}},{default:a(()=>[n(s,null,{default:a(()=>[n(i,{style:{alignment:"center"},onClick:f},{default:a(()=>[R(" Create")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),z=y({__name:"EditRole",props:{id:{type:Number}},emits:["updated"],setup(b,{emit:c}){const u=b,l=r({}),_=r(null);E(u.id).then(t=>{l.value=t,l.value.permissions=l.value.permissions.map(e=>e.id)});const f=r({name:{required:!0,message:"Please Enter Name",trigger:"blur"}}),d=t=>{var e;t.preventDefault(),(e=_.value)==null||e.validate(s=>{if(s)console.log(s),window.$message.error("Invalid");else{const{name:o,permissions:i}=l.value;P(l.value.id,{name:o,permissions:i}).then(m=>{window.$message.success(m.message),c("updated",m)})}})};return(t,e)=>{const s=h,o=k,i=w,m=C,v=$,p=V;return x(),N(p,{ref_key:"formRef",ref:_,"label-width":80,model:l.value,rules:f.value,size:"small"},{default:a(()=>[n(o,{style:{"padding-top":"24px"},label:"Name",path:"name"},{default:a(()=>[n(s,{value:l.value.name,"onUpdate:value":e[0]||(e[0]=g=>l.value.name=g),placeholder:"Edit Name"},null,8,["value"])]),_:1}),n(o,{style:{"padding-top":"24px"},label:"Permissions",path:"permissions"},{default:a(()=>[n(i,{value:l.value.permissions,"onUpdate:value":e[1]||(e[1]=g=>l.value.permissions=g),"label-field":"name","value-field":"id",tag:!0},null,8,["value"])]),_:1}),n(v,{vertical:!0,style:{"align-items":"center"}},{default:a(()=>[n(o,null,{default:a(()=>[n(m,{style:{alignment:"center"},onClick:d},{default:a(()=>[R(" Save")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{B as _,z as a};
